<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê¹€ì§€ëª… ì˜µì…˜ ì¡°í•© ìƒì„±ê¸°</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #ffccff, #cc99ff);
      overflow-x: hidden;
    }

    h2 {
      text-align: center;
      color: white;
      text-shadow: 0 0 10px #fff, 0 0 20px #ff99ff, 0 0 30px #ff66cc;
      font-size: 2.5em;
      margin-bottom: 30px;
    }

    label {
      color: #fff;
      font-weight: bold;
      text-shadow: 0 0 5px #fff;
    }

    /* input -> textarea ë¡œ ë³€ê²½, ì—¬ëŸ¬ì¤„ ì…ë ¥ ê°€ëŠ¥ */
    textarea.input-text {
      width: 300px;
      margin-bottom: 15px;
      display: block;
      padding: 10px;
      border: 2px solid #ff99cc;
      border-radius: 10px;
      outline: none;
      box-shadow: 0 0 10px #ff99cc;
      background-color: #fff0fa;
      resize: none; /* ì‚¬ìš©ìê°€ ì„ì˜ë¡œ í¬ê¸° ì¡°ì ˆ ë¶ˆê°€ */
      overflow-y: auto;
      max-height: 150px; /* ë„ˆë¬´ í¬ë©´ ìŠ¤í¬ë¡¤ */
      font-family: inherit;
      font-size: 1em;
      line-height: 1.4em;
    }

    button {
      padding: 12px 24px;
      font-size: 18px;
      font-weight: bold;
      background: linear-gradient(45deg, #ff66cc, #cc66ff);
      color: white;
      border: none;
      border-radius: 25px;
      box-shadow: 0 0 10px #ff66cc, 0 0 20px #cc66ff;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #ff99ff, 0 0 30px #cc66ff;
    }

    .output-container {
      display: flex;
      gap: 20px;
      margin-top: 30px;
    }

    textarea {
      width: 100%;
      height: 300px;
      font-family: monospace;
      white-space: pre;
      background: #fff0f9;
      border: 2px solid #ff99cc;
      border-radius: 10px;
      box-shadow: inset 0 0 10px #ffccff;
      padding: 10px;
      resize: none;
    }

    /* ğŸ’– ì• ë‹ˆë©”ì´ì…˜ ë°°ê²½ ìš”ì†Œë“¤ ğŸ’– */
    .animated-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }

    .shape {
      position: absolute;
      font-size: 24px;
      animation: float 10s linear infinite;
      color: #fff;
      opacity: 0.6;
      filter: drop-shadow(0 0 6px #ff66cc);
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* ë‹¤ì–‘í•œ í•˜íŠ¸ì™€ ë³„ ìœ„ì¹˜ */
    .shape:nth-child(1) { left: 10%; font-size: 30px; animation-duration: 12s; }
    .shape:nth-child(2) { left: 25%; font-size: 20px; animation-duration: 14s; }
    .shape:nth-child(3) { left: 40%; font-size: 26px; animation-duration: 10s; }
    .shape:nth-child(4) { left: 60%; font-size: 22px; animation-duration: 11s; }
    .shape:nth-child(5) { left: 75%; font-size: 28px; animation-duration: 13s; }
    .shape:nth-child(6) { left: 85%; font-size: 24px; animation-duration: 15s; }

  </style>
</head>
<body>

  <!-- ğŸ’« ë°˜ì§ì´ëŠ” í•˜íŠ¸ì™€ ë³„ ì• ë‹ˆë©”ì´ì…˜ ë°°ê²½ ğŸ’« -->
  <div class="animated-bg">
    <div class="shape">ğŸ’–</div>
    <div class="shape">âœ¨</div>
    <div class="shape">ğŸ’«</div>
    <div class="shape">â­</div>
    <div class="shape">ğŸŒŸ</div>
    <div class="shape">ğŸ’–</div>
  </div>

  <h2>ê¹€ì§€ëª… ì˜µì…˜ ì¡°í•© ìƒì„±ê¸° ë€¨</h2>

  <label>ìƒìœ„ ì˜µì…˜:</label>
  <textarea id="input1" class="input-text" placeholder="ì˜ˆ: ì‚¬ê³¼,ë°°,ê¹€ì¹˜"></textarea>
  
  <label>ì¤‘ìœ„ ì˜µì…˜:</label>
  <textarea id="input2" class="input-text" placeholder="ì˜ˆ: ë¹¨ê°•,íŒŒë‘,ë…¸ë‘"></textarea>
  
  <label>í•˜ìœ„ ì˜µì…˜:</label>
  <textarea id="input3" class="input-text" placeholder="ì˜ˆ: 10,20,30"></textarea>
  
  <button onclick="generateCombinations()">ğŸŒˆ ìƒì„±í•˜ê¸° ğŸ’«</button>

  <div id="tableOutput" style="margin-top: 40px;"></div>
  <button onclick="copyTable()" style="margin-top: 10px;">ğŸ“‹ ë³µì‚¬í•´ì„œ ì—‘ì…€ì— ë¶™ì´ê¸°</button>

  <textarea id="copyBuffer" style="position:absolute; left:-9999px;"></textarea>

  <script>
    // ì…ë ¥ë€ ìë™ ë†’ì´ ì¡°ì ˆ í•¨ìˆ˜
    function autoResizeTextarea(textarea) {
      textarea.style.height = 'auto';
      const maxHeight = 150; // px
      if (textarea.scrollHeight > maxHeight) {
        textarea.style.height = maxHeight + 'px';
        textarea.style.overflowY = 'auto';
      } else {
        textarea.style.height = textarea.scrollHeight + 'px';
        textarea.style.overflowY = 'hidden';
      }
    }

    // í˜ì´ì§€ ë¡œë“œì‹œì™€ ì…ë ¥ì‹œ ìë™ ë†’ì´ ì ìš©
    document.querySelectorAll('.input-text').forEach(textarea => {
      autoResizeTextarea(textarea);
      textarea.addEventListener('input', () => autoResizeTextarea(textarea));
    });

    function generateCombinations() {
      const input1 = document.getElementById('input1').value;
      const input2 = document.getElementById('input2').value;
      const input3 = document.getElementById('input3').value;

      // , \n / . ë¥¼ ëª¨ë‘ êµ¬ë¶„ìë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì •ê·œì‹ split
      const splitter = /[,\n\/\.]+/;

      const inputs = [input1, input2, input3].filter(i => i !== '');
      const keywords = inputs.map(i => i.split(splitter).map(s => s.trim()).filter(Boolean));

      let results = [];

      function combine(prefix, depth) {
        if (depth === keywords.length) {
          results.push(prefix.join('^|^'));
          return;
        }
        for (let word of keywords[depth]) {
          combine([...prefix, word], depth + 1);
        }
      }

      if (keywords.length > 0) {
        combine([], 0);
      }

      const leftMultiline = results.join('\n');
      const rightMultiline = results.map(() => '0').join('\n');

      // í…Œì´ë¸” ì¶œë ¥ (ì ˆëŒ€ ì¶œë ¥í˜•íƒœ ë³€ê²½í•˜ì§€ ì•ŠìŒ)
      const tableHTML = `
      <table style="border-collapse: collapse; margin-top: 20px;">
        <tr>
          <td style="border: 2px solid #cc66ff; padding: 10px; white-space: pre-line; background: #fff0fa;">${leftMultiline.replace(/\n/g, '<br>')}</td>
          <td style="border: 2px solid #cc66ff; padding: 10px; white-space: pre-line; background: #f9f0ff;">${rightMultiline.replace(/\n/g, '<br>')}</td>
          <td style="border: 2px solid #cc66ff; padding: 10px; white-space: pre-line; background: #f9f0ff;">${rightMultiline.replace(/\n/g, '<br>')}</td>
          <td style="border: 2px solid #cc66ff; padding: 10px; white-space: pre-line; background: #f9f0ff;">${rightMultiline.replace(/\n/g, '<br>')}</td>
        </tr>
      </table>
      `;
      document.getElementById('tableOutput').innerHTML = tableHTML;

      // ë³µì‚¬ìš© ë¬¸ìì—´ ì¤€ë¹„ (í•œ í–‰ì— íƒ­ êµ¬ë¶„ 2ì—´, ê° í–‰ì€ \r\n)
      const tsvText = `"${leftMultiline}"\t"${rightMultiline}"\t"${rightMultiline}"\t"${rightMultiline}"`;
      document.getElementById('copyBuffer').value = tsvText;

      // ìƒì„± í›„ ìë™ ë³µì‚¬ ì‹¤í–‰
      copyTable();
    }

    function copyTable() {
      const copyArea = document.getElementById('copyBuffer');
      copyArea.select();
      copyArea.setSelectionRange(0, 99999); // for mobile
      document.execCommand('copy');
    }
  </script>
</body>
</html>
